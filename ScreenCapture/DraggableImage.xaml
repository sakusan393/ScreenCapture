<UserControl x:Class="ScreenCapture.DraggableImage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid x:Name="Root">
        <Image x:Name="ImageControl"
               Stretch="Fill"
               RenderTransformOrigin="0.5,0.5">
            <Image.RenderTransform>
                <TransformGroup>
                    <ScaleTransform x:Name="ScaleTransform"/>
                    <RotateTransform x:Name="RotateTransform"/>
                </TransformGroup>
            </Image.RenderTransform>
        </Image>

        <Thumb x:Name="DragThumb"
               Cursor="SizeAll"
               Background="Transparent"
               Opacity="0"
               IsHitTestVisible="True"
               Panel.ZIndex="0"/>

        <Border x:Name="BoundingBox"
                BorderBrush="#FF00BFFF"
                BorderThickness="2"
                Visibility="Collapsed"
                IsHitTestVisible="True"
                Panel.ZIndex="1">
            <Grid>
                <Thumb x:Name="TopLeftHandle"
                       Width="12" Height="12"
                       Cursor="SizeNWSE"
                       Background="White"
                       BorderBrush="#FF00BFFF"
                       BorderThickness="2"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Margin="-6,-6,0,0"
                       Panel.ZIndex="2"/>
                
                <Thumb x:Name="TopRightHandle"
                       Width="12" Height="12"
                       Cursor="SizeNESW"
                       Background="White"
                       BorderBrush="#FF00BFFF"
                       BorderThickness="2"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Top"
                       Margin="0,-6,-6,0"
                       Panel.ZIndex="2"/>
                
                <Thumb x:Name="BottomLeftHandle"
                       Width="12" Height="12"
                       Cursor="SizeNESW"
                       Background="White"
                       BorderBrush="#FF00BFFF"
                       BorderThickness="2"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Bottom"
                       Margin="-6,0,0,-6"
                       Panel.ZIndex="2"/>
                
                <Thumb x:Name="BottomRightHandle"
                       Width="12" Height="12"
                       Cursor="SizeNWSE"
                       Background="White"
                       BorderBrush="#FF00BFFF"
                       BorderThickness="2"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Bottom"
                       Margin="0,0,-6,-6"
                       Panel.ZIndex="2"/>

                <Thumb x:Name="RotateHandle"
                       Width="12" Height="12"
                       Cursor="Hand"
                       Background="LimeGreen"
                       BorderBrush="#FF00BFFF"
                       BorderThickness="2"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Top"
                       Margin="0,-26,0,0"
                       Panel.ZIndex="2"/>

                <Button x:Name="DeleteButton"
                        Width="20" Height="20"
                        Content="X"
                        FontSize="14"
                        FontWeight="Bold"
                        Cursor="Hand"
                        Background="Red"
                        Foreground="White"
                        BorderBrush="#FF00BFFF"
                        BorderThickness="2"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Margin="0,2,2,0"
                        Padding="0,-2,0,0"
                        Panel.ZIndex="10"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>
